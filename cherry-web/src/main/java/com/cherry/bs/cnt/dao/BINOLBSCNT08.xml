<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="BINOLBSCNT08">


    <!-- 根据柜台编码或柜台名称 取得柜台详细信息 -->
    <select id="getCounterInfo" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
			SELECT
				BIN_OrganizationID
			FROM
				Basis.BIN_CounterInfo WITH(NOLOCK)
			WHERE
				BIN_OrganizationInfoID = #organizationInfoId# AND
				BIN_BrandInfoID = #brandInfoId# AND
				CounterCode = #counterCode# AND ValidFlag = 1
                <isNotEmpty prepend="AND" property="counterName">
                    A.CounterNameIF = #counterName#
                </isNotEmpty>
    </select>


    <!-- 取得柜台对应的积分计划 -->
    <select id="getCounterPointPlan" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
			SELECT
				BIN_CounterPointPlanID
			FROM
				Basis.BIN_CounterLimitInfo WITH(NOLOCK)
			WHERE
				BIN_OrganizationInfoID = #organizationInfoId# AND
				BIN_BrandInfoID = #brandInfoId# AND
				BIN_OrganizationID = #BIN_OrganizationID#
    </select>

	
</sqlMap>
